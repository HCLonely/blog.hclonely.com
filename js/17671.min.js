$(document).ready(function(){setHref(getHref()),colorfulTags(),moeTitle(),copyTips()});let leftHeader=document.querySelectorAll("span.nav-icon>svg,span.nav-icon>i"),leftHeaderColorArr=["#FF69B4","#58c7ea","#E066FF","#FF69B4","#FFA54F","#90EE90"];function addLineNumber(){var e=document.querySelectorAll("pre");e.forEach(function(e,t){e.className=""==e.className?"line-numbers":e.className+" line-numbers"}),document.querySelectorAll("pre code").forEach(function(e,t){e.className=e.className.split(" ").map(function(e,t){return"language-"+e}).join(" ")})}if(leftHeader.forEach(e=>{let t=leftHeaderColorArr[Math.floor(Math.random()*leftHeaderColorArr.length)];e.style.color=t}),$("#tw_cn").click(function(){$(this).find("i").hasClass("zh-cn")?(doT2S(),Cookies.set("lang","zh-CN"),$(this).find("i").removeClass("zh-cn").addClass("zh-tw")):(doS2T(),Cookies.set("lang","zh-TW"),$(this).find("i").removeClass("zh-tw").addClass("zh-cn"))}),$("#changeMode").click(function(){const e=Cookies.get("theme_dark");"1"===e?(Cookies.set("theme_dark","2"),setLightMode()):"2"===e?(Cookies.set("theme_dark","0"),setAutoMode()):(Cookies.set("theme_dark","1"),setDarkMode())}),window.addLineNumber=addLineNumber,addLineNumber(),"undefined"==typeof Badge&&$.getScript("/hexo-github/badge.js"),function(){window.notSupportWebp=!1;var e=new Image;e.onload=e.onerror=function(){if(2!=e.height){$.message({message:"可能会有些图片加载不出来，可以更换浏览器解决！",title:"检测到当前浏览器不支持Webp格式图片！",type:"warning",autoHide:!1,time:"10000"}),window.notSupportWebp=!0;var t=document.createElement("script");t.type="text/javascript",t.async=!0;var o=document.getElementsByTagName("script")[0];t.src="<%- theme.CDN.body.js.webpjs %>",o.parentNode.insertBefore(t,o)}},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),25===window.location.hash.length)var checkExist=setInterval(function(){$(window.location.hash).length&&($("html, body").animate({scrollTop:$(window.location.hash).offset().top-90},1e3),clearInterval(checkExist))},100);function setDarkMode(e=!1){$("html").hasClass("theme-dark")||$("html").addClass("theme-dark"),!e&&$("#changeMode>i").attr("class","far fa-sun").parent().attr("title","日间模式")}function setLightMode(e=!1){$("html").removeClass("theme-dark"),!e&&$("#changeMode>i").attr("class","fas fa-adjust").parent().attr("title","自动模式")}function setAutoMode(){let e=!1;const t=document.createElement("div");t.className="dark-mode-state-indicator",document.body.appendChild(t);const o=getDeviceState(t);if(window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){e.matches&&setDarkMode(!0)}),11===o)e=!0;else if(10===o)e=!1;else{const t=new Date;e=t.getHours()>18||t.getHours()<6}e?setDarkMode(!0):setLightMode(!0),$("#changeMode>i").attr("class","far fa-moon").parent().attr("title","夜间模式")}function getDeviceState(e){var t;return window.getComputedStyle?t=window.getComputedStyle(e).getPropertyValue("z-index"):e.currentStyle&&(t=e.currentStyle["z-index"]),parseInt(t,10)}function loadMode(){const e=Cookies.get("theme_dark");"1"===e?setDarkMode():"2"===e?setLightMode():setAutoMode()}document.addEventListener?document.addEventListener("DOMContentLoaded",function(){loadMode()},!1):window.attachEvent&&window.attachEvent("onload",loadMode);
